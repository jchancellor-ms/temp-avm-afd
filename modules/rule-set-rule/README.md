<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# Create AFD-rule-set rules

This module creates Azure Front Door Rule Set Rules

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (~> 1.10)

- <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) (~> 2.4)

## Resources

The following resources are used by this module:

- [azapi_resource.rule](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)

<!-- markdownlint-disable MD013 -->
## Required Inputs

The following input variables are required:

### <a name="input_name"></a> [name](#input\_name)

Description: The name of the routing rule.

Constraints:
- Must be between 1 and 260 characters
- Must start with a letter
- Can only contain alphanumeric characters

Example Input:

```hcl
name = "RedirectToHttps"
```

Type: `string`

### <a name="input_order"></a> [order](#input\_order)

Description: The execution order of this rule within the rule set.

Rules with lower order values are evaluated first. Order 0 is special - it always executes without requiring conditions.

Constraints:
- Must be non-negative (0 or greater)
- Lower values execute first
- Order 0 rules always execute (conditions are ignored)

Example Input:

```hcl
order = 1
```

Type: `number`

### <a name="input_rule_set_id"></a> [rule\_set\_id](#input\_rule\_set\_id)

Description: The full Azure Resource ID of the rule set that will contain this rule.

This should be in the format:
`/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Cdn/profiles/{profileName}/ruleSets/{ruleSetName}`

Example Input:

```hcl
rule_set_id = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/my-rg/providers/Microsoft.Cdn/profiles/my-profile/ruleSets/SecurityRules"
```

Type: `string`

## Optional Inputs

The following input variables are optional (have default values):

### <a name="input_actions"></a> [actions](#input\_actions)

Description: List of actions to execute when all rule conditions are satisfied.

Actions modify requests or responses, such as redirecting URLs, modifying headers, adjusting cache behavior, or rewriting URLs.

- `name` = (Required) The action type. Possible values:
  - `CacheExpiration` - Modify cache TTL
  - `CacheKeyQueryString` - Control query string caching
  - `ModifyRequestHeader` - Add/modify/delete request headers
  - `ModifyResponseHeader` - Add/modify/delete response headers
  - `OriginGroupOverride` - Route to a different origin group
  - `RouteConfigurationOverride` - Override route configuration
  - `UrlRedirect` - Redirect to a different URL
  - `UrlRewrite` - Rewrite request URL
  - `UrlSigning` - Configure URL signing
- `parameters` = (Optional) Action-specific parameters (structure varies by action type)

Example Input:

```hcl
actions = [
  {
    name = "UrlRedirect"
    parameters = {
      redirectType        = "Moved"
      destinationProtocol = "Https"
    }
  }
]
```

Type:

```hcl
list(object({
    name = string
    parameters = optional(object({
      # CacheExpiration action parameters
      cacheBehavior = optional(string)
      cacheDuration = optional(string)
      cacheType     = optional(string)
      # CacheKeyQueryString action parameters
      queryParameters     = optional(string)
      queryStringBehavior = optional(string)
      # Header action parameters
      headerAction = optional(string)
      headerName   = optional(string)
      value        = optional(string)
      # OriginGroupOverride action parameters
      originGroup = optional(object({
        id = optional(string)
      }))
      # RouteConfigurationOverride action parameters
      cacheConfiguration  = optional(any)
      originGroupOverride = optional(any)
      # UrlRedirect action parameters
      customFragment      = optional(string)
      customHostname      = optional(string)
      customPath          = optional(string)
      customQueryString   = optional(string)
      destinationProtocol = optional(string)
      redirectType        = optional(string)
      # UrlRewrite action parameters
      destination           = optional(string)
      preserveUnmatchedPath = optional(bool)
      sourcePattern         = optional(string)
      # UrlSigning action parameters
      algorithm = optional(string)
      parameterNameOverride = optional(list(object({
        paramIndicator = optional(string)
        paramName      = optional(string)
      })))
      # Common parameter
      typeName = optional(string)
    }))
  }))
```

Default: `[]`

### <a name="input_conditions"></a> [conditions](#input\_conditions)

Description: List of conditions that must all be satisfied for the actions to execute.

Conditions evaluate request properties to determine if the rule should apply.

- `name` = (Required) The condition type. Possible values:
  - `RemoteAddress` - Client IP address
  - `RequestMethod` - HTTP method (GET, POST, etc.)
  - `RequestUri` - Full request URI
  - `QueryString` - Query string parameters
  - `RequestHeader` - Request header values
  - `RequestBody` - Request body content
  - `RequestScheme` - HTTP or HTTPS
  - `UrlPath` - URL path
  - `UrlFileExtension` - File extension
  - `UrlFileName` - File name
  - `HttpVersion` - HTTP protocol version
  - `Cookies` - Cookie values
  - `IsDevice` - Device type detection
  - `SocketAddress` - Socket address
  - `ClientPort` - Client port number
  - `ServerPort` - Server port number
  - `HostName` - Host header value
  - `SslProtocol` - TLS/SSL protocol version
- `parameters` = (Optional) Condition-specific parameters
  - `matchValues` = (Optional) Values to match against
  - `operator` = (Optional) Comparison operator (e.g., `Equal`, `Contains`, `IPMatch`)
  - `negateCondition` = (Optional) Negate the condition result
  - `selector` = (Optional) Specific field to inspect (e.g., header name)
  - `transforms` = (Optional) Transforms to apply before matching

Example Input:

```hcl
conditions = [
  {
    name = "RequestScheme"
    parameters = {
      operator    = "Equal"
      matchValues = ["HTTP"]
    }
  }
]
```

Type:

```hcl
list(object({
    name = string
    parameters = optional(object({
      # Match condition parameters (common to most conditions)
      matchValues     = optional(list(string))
      negateCondition = optional(bool)
      operator        = optional(string)
      selector        = optional(string)
      transforms      = optional(list(string))
      # Common parameter
      typeName = optional(string)
    }))
  }))
```

Default: `[]`

### <a name="input_match_processing_behavior"></a> [match\_processing\_behavior](#input\_match\_processing\_behavior)

Description: Determines whether the rules engine should continue processing remaining rules after this rule matches.

Possible values:
- `Continue` - Process remaining rules after this rule (default)
- `Stop` - Stop processing rules after this rule matches

Example Input:

```hcl
match_processing_behavior = "Stop"
```

Type: `string`

Default: `"Continue"`

## Outputs

The following outputs are exported:

### <a name="output_id"></a> [id](#output\_id)

Description: The ID of the rule.

### <a name="output_name"></a> [name](#output\_name)

Description: The name of the rule.

### <a name="output_resource_id"></a> [resource\_id](#output\_resource\_id)

Description: The Azure Resource ID of the rule.

## Modules

No modules.

<!-- markdownlint-disable-next-line MD041 -->
## Data Collection

The software may collect information about you and your use of the software and send it to Microsoft. Microsoft may use this information to provide services and improve our products and services. You may turn off the telemetry as described in the repository. There are also some features in the software that may enable you and Microsoft to collect data from users of your applications. If you use these features, you must comply with applicable law, including providing appropriate notices to users of your applications together with a copy of Microsoftâ€™s privacy statement. Our privacy statement is located at <https://go.microsoft.com/fwlink/?LinkID=824704>. You can learn more about data collection and use in the help documentation and our privacy statement. Your use of the software operates as your consent to these practices.
<!-- END_TF_DOCS -->