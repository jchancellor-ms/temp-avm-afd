<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# Create afd-endpoint-route

This submodule creates Azure Front Door Endpoint Routes.

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (~> 1.10)

- <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) (~> 2.4)

## Resources

The following resources are used by this module:

- [azapi_resource.route](https://registry.terraform.io/providers/Azure/azapi/latest/docs/resources/resource) (resource)

<!-- markdownlint-disable MD013 -->
## Required Inputs

The following input variables are required:

### <a name="input_afd_endpoint_id"></a> [afd\_endpoint\_id](#input\_afd\_endpoint\_id)

Description: The full Azure resource ID of the parent AFD endpoint.

Format: `/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Cdn/profiles/{profileName}/afdEndpoints/{endpointName}`

Example Input:

```hcl
afd_endpoint_id = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/my-rg/providers/Microsoft.Cdn/profiles/my-profile/afdEndpoints/my-endpoint"
```

Type: `string`

### <a name="input_afd_endpoint_name"></a> [afd\_endpoint\_name](#input\_afd\_endpoint\_name)

Description: The name of the parent AFD endpoint.

This is used for constructing resource references and dependencies.

Example Input:

```hcl
afd_endpoint_name = "my-afd-endpoint"
```

Type: `string`

### <a name="input_name"></a> [name](#input\_name)

Description: The name of the AFD endpoint route.

This identifies the specific routing rule within the endpoint.

Example Input:

```hcl
name = "api-route"
```

Type: `string`

### <a name="input_origin_group_id"></a> [origin\_group\_id](#input\_origin\_group\_id)

Description: The full Azure resource ID of the origin group to route traffic to.

This defines which backend origin group will handle requests matching this route.

Format: `/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Cdn/profiles/{profileName}/originGroups/{originGroupName}`

Example Input:

```hcl
origin_group_id = "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/my-rg/providers/Microsoft.Cdn/profiles/my-profile/originGroups/my-origin-group"
```

Type: `string`

### <a name="input_profile_id"></a> [profile\_id](#input\_profile\_id)

Description: The resource ID of the parent CDN profile.

Type: `string`

### <a name="input_profile_name"></a> [profile\_name](#input\_profile\_name)

Description: The name of the parent CDN profile.

Type: `string`

## Optional Inputs

The following input variables are optional (have default values):

### <a name="input_cache_configuration"></a> [cache\_configuration](#input\_cache\_configuration)

Description: Caching configuration for this route.

Controls how content is cached at Azure Front Door edge locations. If not provided, caching will be disabled for this route.

- `query_string_caching_behavior` = (Optional) How to handle query strings when caching. Possible values: `IgnoreQueryString`, `UseQueryString`, `IgnoreSpecifiedQueryStrings`, `IncludeSpecifiedQueryStrings`
- `query_parameters`              = (Optional) Comma-separated list of query parameters to include or exclude from caching
- `compression_settings` = (Optional) Compression configuration
  - `content_types_to_compress` = (Optional) List of MIME types to compress (e.g., `["application/json", "text/html"]`)
  - `is_compression_enabled`    = (Optional) Whether to enable compression

Example Input:

```hcl
cache_configuration = {
  query_string_caching_behavior = "IgnoreQueryString"
  compression_settings = {
    content_types_to_compress = ["application/json", "text/html", "text/css"]
    is_compression_enabled    = true
  }
}
```

Type:

```hcl
object({
    query_string_caching_behavior = optional(string)
    query_parameters              = optional(string)
    compression_settings = optional(object({
      content_types_to_compress = optional(list(string))
      is_compression_enabled    = optional(bool)
    }))
  })
```

Default: `null`

### <a name="input_custom_domain_ids"></a> [custom\_domain\_ids](#input\_custom\_domain\_ids)

Description: A list of custom domain Azure resource IDs to associate with this route.

Custom domains allow you to use your own domain names (e.g., `www.example.com`) instead of the default `*.azurefd.net` domain.

Format: `/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Cdn/profiles/{profileName}/customDomains/{domainName}`

Example Input:

```hcl
custom_domain_ids = [
  "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/my-rg/providers/Microsoft.Cdn/profiles/my-profile/customDomains/www-example-com",
  "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/my-rg/providers/Microsoft.Cdn/profiles/my-profile/customDomains/api-example-com"
]
```

Type: `list(string)`

Default: `[]`

### <a name="input_enabled_state"></a> [enabled\_state](#input\_enabled\_state)

Description: Whether this route is enabled and actively handling traffic.

Possible values:
- `Enabled` - Route is active and will handle matching requests (default)
- `Disabled` - Route is inactive and will not handle requests

Example Input:

```hcl
enabled_state = "Enabled"
```

Type: `string`

Default: `"Enabled"`

### <a name="input_forwarding_protocol"></a> [forwarding\_protocol](#input\_forwarding\_protocol)

Description: The protocol to use when forwarding traffic from Azure Front Door to the origin servers.

Possible values:
- `HttpOnly` - Always use HTTP when forwarding to origins
- `HttpsOnly` - Always use HTTPS when forwarding to origins
- `MatchRequest` - Use the same protocol as the client request (default)

Example Input:

```hcl
forwarding_protocol = "HttpsOnly"
```

Type: `string`

Default: `"MatchRequest"`

### <a name="input_https_redirect"></a> [https\_redirect](#input\_https\_redirect)

Description: Whether to automatically redirect HTTP requests to HTTPS.

When enabled, any HTTP request will receive a redirect response to the equivalent HTTPS URL.

Possible values:
- `Enabled` - Automatically redirect HTTP to HTTPS (default, recommended for security)
- `Disabled` - Allow HTTP requests without redirecting

Example Input:

```hcl
https_redirect = "Enabled"
```

Type: `string`

Default: `"Enabled"`

### <a name="input_link_to_default_domain"></a> [link\_to\_default\_domain](#input\_link\_to\_default\_domain)

Description: Whether this route should be accessible via the default `*.azurefd.net` endpoint domain.

Possible values:
- `Enabled` - Route is accessible via both custom domains and the default domain (default)
- `Disabled` - Route is only accessible via custom domains

Example Input:

```hcl
link_to_default_domain = "Disabled"
```

Type: `string`

Default: `"Enabled"`

### <a name="input_origin_path"></a> [origin\_path](#input\_origin\_path)

Description: A directory path on the origin server that Azure Front Door should prepend to the request path.

This allows you to serve content from a specific subdirectory on the origin without modifying client URLs.

Example Input:

```hcl
origin_path = "/api/v2"
```

Type: `string`

Default: `null`

### <a name="input_patterns_to_match"></a> [patterns\_to\_match](#input\_patterns\_to\_match)

Description: URL path patterns that this route should match and handle.

Supports wildcards (*) for flexible matching. If not specified, the route will not match any requests.

Example Input:

```hcl
patterns_to_match = ["/api/*", "/v1/*", "/v2/*"]
```

For a catch-all route:

```hcl
patterns_to_match = ["/*"]
```

Type: `list(string)`

Default: `null`

### <a name="input_rule_set_ids"></a> [rule\_set\_ids](#input\_rule\_set\_ids)

Description: A list of rule set Azure resource IDs to apply to this route.

Rule sets contain conditional routing rules that can modify request/response headers, perform redirects, rewrites, and more.

Format: `/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Cdn/profiles/{profileName}/ruleSets/{ruleSetName}`

Example Input:

```hcl
rule_set_ids = [
  "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/my-rg/providers/Microsoft.Cdn/profiles/my-profile/ruleSets/security-rules"
]
```

Type: `list(string)`

Default: `[]`

### <a name="input_supported_protocols"></a> [supported\_protocols](#input\_supported\_protocols)

Description: The list of protocols that this route supports.

Possible values:
- `Http` - Allow HTTP requests
- `Https` - Allow HTTPS requests

Typically you would specify both `["Http", "Https"]` and use `https_redirect` to redirect HTTP to HTTPS.

Example Input:

```hcl
supported_protocols = ["Http", "Https"]
```

For HTTPS-only routes:

```hcl
supported_protocols = ["Https"]
```

Type: `list(string)`

Default: `null`

## Outputs

The following outputs are exported:

### <a name="output_id"></a> [id](#output\_id)

Description: The resource ID of the route.

### <a name="output_name"></a> [name](#output\_name)

Description: The name of the route.

### <a name="output_resource_id"></a> [resource\_id](#output\_resource\_id)

Description: The resource ID of the route.

## Modules

No modules.

<!-- markdownlint-disable-next-line MD041 -->
## Data Collection

The software may collect information about you and your use of the software and send it to Microsoft. Microsoft may use this information to provide services and improve our products and services. You may turn off the telemetry as described in the repository. There are also some features in the software that may enable you and Microsoft to collect data from users of your applications. If you use these features, you must comply with applicable law, including providing appropriate notices to users of your applications together with a copy of Microsoftâ€™s privacy statement. Our privacy statement is located at <https://go.microsoft.com/fwlink/?LinkID=824704>. You can learn more about data collection and use in the help documentation and our privacy statement. Your use of the software operates as your consent to these practices.
<!-- END_TF_DOCS -->